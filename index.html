<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feliz anivers√°rio gu!</title>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon.png">
    <link href="https://fonts.googleapis.com/css2?family=Syne:wght@800&family=Instrument+Serif:ital@0;1&family=Inter:wght@300;600&family=JetBrains+Mono&display=swap" rel="stylesheet">
    <style>
        :root {
            --light-grey: #F2F2F2;
            --lichia: #E85D75;
            --dark-base: #1E1E1E;
            --black: #0F0F0F;
            --glow: rgba(232, 93, 117, 0.3);
            --gold: #FFD700;
            --platinum: #E5E4E2;
            --diamond: #B9F2FF;
            --immortal: #A333FF;
        }

    * {
    box-sizing: border-box;
}


        body {
            background-color: var(--black);
            color: var(--light-grey);
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            overflow-y: auto;
        }

        .main-layout {
            display: flex;
            height: 100vh;
            width: 100vw;
        }

        /* --- COLUNA ESQUERDA --- */
        .content-side {
            flex: 1;
            padding: 40px 60px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            border-right: 1px solid rgba(242, 242, 242, 0.05);
            background: linear-gradient(135deg, #121212 0%, #0F0F0F 100%);
        }

        .header {
            margin-bottom: 40px;
        }

        .header h1 {
            font-family: 'Syne', sans-serif;
            font-size: clamp(2rem, 5vw, 3rem);
            line-height: 0.85;
            margin: 0;
            text-transform: uppercase;
        }

        .header h1 span {
            color: var(--lichia);
            text-shadow: 0 0 15px var(--glow);
        }

        .countdown-container {
            margin-top: 20px;
            padding: 15px;
            background: var(--dark-base);
            border-left: 3px solid var(--lichia);
        }

        .countdown-label {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.65rem;
            letter-spacing: 2px;
            color: var(--lichia);
            margin-bottom: 5px;
            display: block;
        }

        .timer-display {
            font-family: 'Syne', sans-serif;
            font-size: 1.2rem;
            letter-spacing: 1px;
        }

        .grid-cards {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .card {
            background: var(--dark-base);
            padding: 20px;
            border: 1px solid transparent;
            transition: all 0.4s cubic-bezier(0.19, 1, 0.22, 1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            text-decoration: none;
            color: inherit;
        }

        .card:hover {
            border-color: var(--lichia);
            background: #252525;
            transform: translateY(-5px);
        }

        .card-info h3 {
            font-family: 'Syne', sans-serif;
            font-size: 0.75rem;
            margin: 0;
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        .card-info p {
            font-family: 'Instrument Serif', serif;
            font-style: italic;
            font-size: 0.9rem;
            margin: 5px 0 0 0;
            opacity: 0.6;
        }

        .card-icon {
            color: var(--lichia);
            font-size: 1.2rem;
        }

        .retro-btn {
            background: var(--lichia);
            color: var(--black);
            padding: 20px;
            margin-bottom: 25px;
            font-family: 'Syne', sans-serif;
            font-weight: 800;
            text-transform: uppercase;
            text-align: center;
            letter-spacing: 2px;
            cursor: pointer;
            transition: 0.3s;
            border: none;
            outline: none;
        }

        .retro-btn:hover {
            filter: brightness(1.2);
            transform: scale(1.02);
        }

        /* --- COLUNA DIREITA --- */
        .visual-side {
            flex: 1;
            background: #000;
            position: relative;
            overflow: hidden;
        }

        .image-marquee {
            display: flex;
            flex-direction: column;
            animation: marquee 40s linear infinite;
        }

        .image-marquee img {
    width: 115%;      /* aumenta largura */
    max-width: none;  /* remove limite */
    height: auto;
    margin-bottom: 20px;
    filter: grayscale(0.6) brightness(0.6);
            
        }
        

    .image-marquee {
    display: flex;
    flex-direction: column;
    animation: marquee 60s linear infinite;
}

@keyframes marquee {
    0% {
        transform: translateY(0);
    }
    100% {
        transform: translateY(-50%);
    }
}


        /* --- MODAIS --- */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(0,0,0,0.98);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(15px);
        }

        .modal-content {
    background: var(--dark-base);
    width: 90%;
    max-width: 500px;
    padding: 45px;
    border: 1px solid var(--lichia);
    position: relative;
    max-height: 85vh;
    overflow-y: auto;
    overflow-x: visible;
    box-sizing: border-box;

}

        .modal-close {
            position: absolute;
            top: 20px; right: 20px;
            color: var(--lichia);
            font-family: 'JetBrains Mono';
            font-size: 0.7rem;
            cursor: pointer;
        }

        /* --- MINI GAME STYLES --- */
        #gameCanvasContainer {
            position: relative;
            width: 100%;
            height: 380px;
            background: #0a0a0a;
            border: 1px solid rgba(232, 93, 117, 0.3);
            overflow: hidden;
            margin-top: 20px;
            display: none;
        }

        #gameCanvas {
            width: 100%;
            height: 100%;
            touch-action: none;
        }

        .game-ui {
            position: absolute;
            top: 10px;
            left: 10px;
            right: 10px;
            display: flex;
            justify-content: space-between;
            font-family: 'JetBrains Mono';
            font-size: 0.75rem;
            color: var(--lichia);
            pointer-events: none;
            z-index: 2;
        }

        .rank-card {
            text-align: center;
            padding: 25px;
            border: 2px dashed var(--lichia);
            margin-top: 15px;
            display: none;
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .rank-medal {
            font-size: 3.5rem;
            display: block;
            margin: 10px 0;
            filter: drop-shadow(0 0 10px rgba(255,255,255,0.2));
        }

        #reflexGameArea {
            width: 100%;
            height: 300px;
            background: #111;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            font-family: 'Syne';
            text-transform: uppercase;
            margin-top: 20px;
            border: 1px solid rgba(255,255,255,0.05);
            transition: background 0.1s;
            user-select: none;
        }

        #reflexGameArea.fail {
            background: #4a0000 !important;
        }

        /* --- TELA DE RETROSPECTIVA ESTILO STACK --- */
        #retroScreen {
            display: none;
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: var(--black);
            z-index: 3000;
            color: white;
            padding: 40px;
            overflow: hidden;
        }

        .retro-container {
            position: relative;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .card-stack {
            position: relative;
            width: 320px;
            height: 450px;
            perspective: 1000px;
        }

        .retro-card {
            position: absolute;
            width: 100%;
            height: 100%;
            background: var(--dark-base);
            border: 1px solid rgba(232, 93, 117, 0.5);
            padding: 30px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            transition: transform 0.6s cubic-bezier(0.23, 1, 0.32, 1), opacity 0.6s;
            transform-origin: center bottom;
            user-select: none;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }

        .retro-card h2 {
            font-family: 'Syne', sans-serif;
            font-size: 1.4rem;
            margin-bottom: 15px;
            color: var(--lichia);
        }

        .retro-card p {
            font-family: 'Instrument Serif', serif;
            font-size: 1.6rem;
            font-style: italic;
            line-height: 1.2;
            opacity: 0.9;
        }

        .retro-card .tag {
            position: absolute;
            bottom: 30px;
            left: 30px;
            font-family: 'JetBrains Mono';
            font-size: 0.6rem;
            letter-spacing: 2px;
            color: var(--lichia);
            text-transform: uppercase;
        }

        .confetti-img {
            position: absolute;
            pointer-events: none;
            z-index: 4000;
            font-size: 24px;
            animation: fall 1.2s ease-out forwards;
        }

        @keyframes fall {
            0% { transform: translateY(0) rotate(0deg) scale(0.5); opacity: 0; }
            20% { opacity: 1; transform: translateY(-30px) rotate(10deg) scale(1.2); }
            100% { transform: translateY(400px) rotate(360deg); opacity: 0; }
        }
/* --- PLAYLIST TURNTABLE --- */

.turntable {
    position: relative;
    width: 260px;
    height: 260px;
    margin: 20px auto;
}

.vinyl {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: radial-gradient(circle at center, #222 30%, #000 60%, #111 100%);
    border: 6px solid #111;
    position: relative;
    animation: spin 3s linear infinite;
    box-shadow: 0 0 40px rgba(0,0,0,0.8);
}

.vinyl::before {
    content: "";
    position: absolute;
    inset: 25px;
    border-radius: 50%;
    border: 1px solid rgba(255,255,255,.05);
}

.vinyl-center {
    position: absolute;
    width: 70px;
    height: 70px;
    background: var(--lichia);
    border-radius: 50%;
    top: 50%;
    left: 50%;
    transform: translate(-50%,-50%);
    box-shadow: 0 0 25px var(--glow);
}

.tonearm {
    position: absolute;
    width: 130px;
    height: 6px;
    background: #aaa;
    top: 45px;
    right: -45px;
    transform: rotate(25deg);
    border-radius: 4px;
}

@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}
/* --- VINTAGE NOTE STYLE --- */

    .vintage-wrapper {
    text-align: center;
    font-family: 'Cormorant Garamond', serif;
    color: #d6d6d6;
    padding: 10px 0;
    position: relative;

    cursor: url("assets/images/simon1.png") 16 16, auto;
}

.vintage-line {
    height: 1px;
    width: 60%;
    margin: 25px auto;
    background: linear-gradient(to right, transparent, #888, transparent);
    opacity: 0.6;
}

.vintage-date {
    font-size: 0.9rem;
    letter-spacing: 4px;
    margin-bottom: 20px;
    opacity: 0.7;
}

.vintage-text {
    font-size: 1.3rem;
    font-style: italic;
    line-height: 1.8;
    letter-spacing: 1px;
    opacity: 0.95;
}

.vintage-sign {
    margin-top: 30px;
    font-size: 1rem;
    letter-spacing: 3px;
    opacity: 0.6;
}


/* anima√ß√£o */
@keyframes floaty {
    0% { transform: translateY(0px); }
    50% { transform: translateY(-12px); }
    100% { transform: translateY(0px); }
}

        @media (max-width: 900px) {
    .main-layout { 
        flex-direction: column; 
        overflow-y: auto; 
    }

    .visual-side { 
        height: 40vh; 
        flex: none; 
        overflow: hidden;
    }

    .content-side { 
        padding: 25px; 
    }

    .image-marquee { 
        display: flex;
        animation: none; /* para n√£o ficar pesado no celular */
    }

    .image-marquee img {
        width: 100%;
        filter: grayscale(0.4) brightness(0.8);
    }

    .grid-cards { 
        grid-template-columns: 1fr; 
    }
}

        @media (max-width: 600px) {

  .modal-content {
    padding: 20px;
    max-width: 95%;
    max-height: 90vh;
  }

  .vintage-text {
    font-size: 1.05rem;
    line-height: 1.6;
  }

  .retro-card {
    padding: 20px;
  }

  .retro-card p {
    font-size: 1.2rem;
  }

  .card-stack {
    width: 260px;
    height: 380px;
  }

  .turntable {
    width: 200px;
    height: 200px;
  }

  .image-marquee img {
    width: 100%;
  }

}
    </style>
</head>
<body>

    <div class="main-layout">
        <div class="content-side">
            <div class="header">
                <div class="countdown-container">
                    <span class="countdown-label">COUNTDOWN TO 16 FEB // BIRTHDAY MODE</span>
                    <div class="timer-display" id="timer">00D 00H 00M 00S</div>
                    </div>
                    <h1 class="main-title" style="margin-top: 30px;">
                    FELIZ ANIVERS√ÅRIO,<br>
                 <span class="highlight">GU!</span></h1>
            </div>

            <div class="retro-btn" onclick="toggleRetro(true)">
                PRESS START: ALL ABOUT YOU
            </div>

            <div class="grid-cards">
    <div class="card" onclick="openModal('modalGame')">
        <div class="card-info" style="color: var(--lichia);">
            <h3>Bday Catch</h3>
            <p>Rankings e Medalhas.</p>
        </div>
        <div class="card-icon">üéÆ</div>
    </div>

    <div class="card" onclick="openModal('modalBday')">
        <div class="card-info">
            <h3>Wishlist</h3>
            <p>O que planejei para voc√™.</p>
        </div>
        <div class="card-icon">üéÇ</div>
    </div>

    <div class="card" onclick="openModal('modalMessage')">
        <div class="card-info">
            <h3>Nota Secreta</h3>
            <p>Sobre estes meses...</p>
        </div>
        <div class="card-icon">‚úâ</div>
    </div>

    <div class="card" onclick="openModal('modalPlaylist')">
        <div class="card-info" style="color: var(--platinum);">
            <h3>Our Playlist</h3>
            <p>M√∫sicas que me lembram voc√™.</p>
        </div>
        <div class="card-icon">üíø</div>
    </div>
</div>


            <footer style="margin-top: auto; padding-top: 40px; font-size: 0.6rem; opacity: 0.3; letter-spacing: 2px; font-family: 'JetBrains Mono';">
                V.19 // parab√©ns // meu gatinho ‚ô°
            </footer>
        </div>

        <div class="visual-side">
            <div class="image-marquee">
    <!-- PRIMEIRO BLOCO -->
    <img src="assets/images/imagem1.jpg">
    <img src="assets/images/imagem2.jpg">
    <img src="assets/images/imagem3.jpg">
    <img src="assets/images/imagem4.jpg">
    <img src="assets/images/imagem5.jpg">
    <img src="assets/images/imagem6.jpg">
    <img src="assets/images/imagem7.jpg">

    <!-- DUPLICADO PARA LOOP -->
    <img src="assets/images/imagem1.jpg">
    <img src="assets/images/imagem2.jpg">
    <img src="assets/images/imagem3.jpg">
    <img src="assets/images/imagem4.jpg">
    <img src="assets/images/imagem5.jpg">
    <img src="assets/images/imagem6.jpg">
    <img src="assets/images/imagem7.jpg">
</div>

    </div>

    <!-- TELA DE RETROSPECTIVA ESTILO CARTAS -->
    <div id="retroScreen">
        <div class="retro-container">
            <div style="width: 100%; display: flex; justify-content: space-between; position: absolute; top: 0; left: 0; padding: 40px;">
                <div class="retro-header" style="font-family: 'JetBrains Mono'; font-size: 0.7rem; opacity: 0.8;">
                    [ALL_ABOUT_HIM.DECK]<br>
                    CLIQUE PARA PASSAR.
                </div>
                <div class="modal-close" style="position: static;" onclick="toggleRetro(false)">X</div>
            </div>

            <div class="card-stack" id="cardStack" onclick="nextCard(event)">
                <div class="retro-card" style="z-index: 6;">
                    <h2>gosto musical</h2>
                    <p>"desde o rock at√© rap/trap, tudo reflete sua personalidade e o qu√£o incr√≠vel voc√™ √©!"</p>
                    <span class="tag">IDENTIDADE</span>
                </div>
                <div class="retro-card" style="z-index: 5;">
                    <h2>o jeitinho que s√≥ voc√™ tem quando fala ou digita</h2>
                    <p>"as express√µes que j√° se tornaram as minhas favoritas de ouvir e que tamb√©m passei a usar desde ent√£o"</p>
                    <span class="tag">CHARME</span>
                </div>
                <div class="retro-card" style="z-index: 4;">
                    <h2>O seu anivers√°rio</h2>
                    <p>"um dia para celebrar o qu√£o perfeito, amoroso, criativo e se eu fosse listar tudo n√£o ia caber aqui meu bem, s√≥ espero de cora√ß√£o que voc√™ continue sendo esse homem incr√≠vel que venho conhecendo nesses √∫ltimos meses!"</p>
                    <span class="tag">O MOTIVO</span>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL DO JOGO CATCH -->
    <div id="modalGame" class="modal-overlay" onclick="closeModal('modalGame'); stopGame();">
        <div class="modal-content" onclick="event.stopPropagation()" style="max-width: 600px;">
            <span class="modal-close" onclick="closeModal('modalGame'); stopGame();">X</span>
            <h2 style="font-family: 'Syne'; font-size: 1.1rem; color: var(--lichia); margin-bottom: 10px;">BIRTHDAY_CATCHER.EXE</h2>
            
            <div id="gameCanvasContainer">
                <div class="game-ui">
                    <span>TIME: <span id="gameClock">45</span>s</span>
                    <span>SCORE: <span id="gameScore">0</span></span>
                </div>
                <canvas id="gameCanvas"></canvas>
            </div>

            <div id="rankResult" class="rank-card">
                <h3 id="rankTitle" style="font-family: 'Syne'; letter-spacing: 2px;">RANK</h3>
                <span class="rank-medal" id="rankEmoji">üèÜ</span>
                <p id="rankQuote" style="font-family: 'Instrument Serif'; font-style: italic; font-size: 1.2rem;"></p>
                <button class="retro-btn" style="width: 100%; margin-top: 15px; padding: 10px;" onclick="startGame()">TENTAR NOVAMENTE</button>
            </div>
            
            <div id="gameStartUI">
                <p style="font-size: 0.8rem; opacity: 0.7; margin: 15px 0;">Pegue os bolos e cora√ß√µes evitando os morcegos!<br>Use o mouse ou o dedo para mover.</p>
                <button class="retro-btn" style="width: 100%; margin-top: 10px; padding: 15px;" onclick="startGame()">INICIAR ARCADE</button>
            </div>
        </div>
    </div>

    <!-- OUTROS MODAIS -->
    <div id="modalBday" class="modal-overlay" onclick="closeModal('modalBday')">
        <div class="modal-content" onclick="event.stopPropagation()">
            <span class="modal-close" onclick="closeModal('modalBday')">X</span>
            <h2 style="font-family: 'Syne'; font-size: 1.1rem; color: var(--lichia); margin-bottom: 25px;">PLANOS_ANIVERSARIO.EXE</h2>
            <ul style="list-style: none; padding: 0; font-family: 'Instrument Serif'; font-size: 1.4rem;">
                <li style="margin-bottom: 15px; border-bottom: 1px solid rgba(232,93,117,0.1); padding-bottom: 10px;">Finalmente voc√™ pode aproveitar seus amigos e eu posso te ver, espero que esteja se divertindo muito!</li>
                <li style="margin-bottom: 15px; border-bottom: 1px solid rgba(232,93,117,0.1); padding-bottom: 10px;">O presente √© simples, mas fiz com carinho e pensei em cada coisa para te alegrar</li>
                <li style="margin-bottom: 15px; border-bottom: 1px solid rgba(232,93,117,0.1); padding-bottom: 10px;">Que seu dia seja perfeito, bob√£o!</li>
                <li>üñ§</li>
            </ul>
        </div>
    </div>

    <div id="modalMessage" class="modal-overlay" onclick="closeModal('modalMessage')">
        
    <div class="modal-content" onclick="event.stopPropagation()">
    <span class="modal-close" onclick="closeModal('modalMessage')">X</span>



    <div class="vintage-wrapper">


            <div class="vintage-line"></div>

            <div class="vintage-date">
                DEZESSEIS ¬∑ FEVEREIRO
            </div>

            <p class="vintage-text">
            Esse presente eu fiz para voc√™, mas n√£o quero que sinta press√£o com ele.
        <br><br>
            Essa √© a maneira que eu gosto de presentear as pessoas importantes que fazem parte da minha vida. 
            E, al√©m disso, voc√™ √© uma pessoa incr√≠vel. Desde que te conheci, fiquei cada vez mais interessada em voc√™ e encantada pelo seu jeitinho, sua maneira de falar, os animes que voc√™ gosta, seus jogos, seu humor, sua risada‚Ä¶ voc√™ como um todo.
        <br><br>
            Meus parab√©ns pelos seus 19 anos. Que venham muitos outros!
        <br><br>
            Com o meu mais puro amor.
    </p>
            <div class="vintage-line"></div>

            <div class="vintage-sign">
              ‚Äî para voc√™, clara ‚Çä ‚äπ
 </div>
        </div>
    </div>
</div>

<!-- MODAL PLAYLIST -->
<div id="modalPlaylist" class="modal-overlay" onclick="closeModal('modalPlaylist')">
    <div class="modal-content" onclick="event.stopPropagation()" style="text-align:center;">
        <span class="modal-close" onclick="closeModal('modalPlaylist')">X</span>

        <h2 style="font-family: 'Syne'; font-size: 1.1rem; color: var(--platinum); margin-bottom: 25px;">
            NOW_PLAYING.EXE
        </h2>

        <!-- GIF VIS√çVEL AUTOMATICAMENTE -->
        <img src="https://i.pinimg.com/originals/0f/23/51/0f23516f4ef683a4974054739d8070ba.gif"
             alt="playlist gif"
             style="width: 100%; max-width: 300px; border-radius: 12px; margin-bottom: 25px;">

        <!-- BOT√ÉO PLAYLIST -->
        <a href="https://open.spotify.com/playlist/36fJB6flCJ2VBX5QGvVhBj?si=71cd06dde3994748&pt=440670428ccaba576b98f03a177a6b55"
           target="_blank"
           class="retro-btn"
           style="display:block;">
           ABRIR PLAYLIST
        </a>
    </div>
</div>

    <script>
        // --- INTERFACE ---
        function openModal(id) { document.getElementById(id).style.display = 'flex'; }
        function closeModal(id) { document.getElementById(id).style.display = 'none'; }

        function toggleRetro(show) {
            const screen = document.getElementById('retroScreen');
            screen.style.display = show ? 'block' : 'none';
            if (show) updateCardStack();
        }

        let cards = [];
        function updateCardStack() {
            cards = Array.from(document.querySelectorAll('.retro-card'));
            cards.forEach((card, index) => {
                card.style.transform = `translateY(${index * -10}px) scale(${1 - (index * 0.05)})`;
                card.style.zIndex = cards.length - index;
                card.style.opacity = index > 3 ? 0 : 1;
            });
        }

        function nextCard(e) {
            if (cards.length === 0) return;
            const currentCard = cards[0];
            createConfettiImages(e.clientX, e.clientY);
            currentCard.style.transform = 'translateX(120%) rotate(25deg)';
            currentCard.style.opacity = '0';
            setTimeout(() => {
                const stack = document.getElementById('cardStack');
                stack.appendChild(currentCard);
                currentCard.style.opacity = '1';
                updateCardStack();
            }, 300);
        }

        function createConfettiImages(x, y) {
            const emojis = ['üéÇ', '‚ù§Ô∏è', '‚ú®', 'üñ§'];
            for (let i = 0; i < 6; i++) {
                const span = document.createElement('span');
                span.className = 'confetti-img';
                span.innerText = emojis[Math.floor(Math.random() * emojis.length)];
                span.style.left = (x - 10) + 'px';
                span.style.top = (y - 10) + 'px';
                document.body.appendChild(span);
                setTimeout(() => span.remove(), 1200);
            }
        }

        // --- MINI GAME: BDAY CATCHER ---
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        let gameActive = false;
        let score = 0;
        let timeLeft = 45;
        let playerX = 150;
        let items = [];
        let particles = [];
        let gameLoopId;
        let clockInterval;

        const ranks = [
    { min: 1400, title: "RADIANTE", emoji: "üåü", quote: "voc√™ transcendeu, agora √© oficialmente dono do meu cora√ß√£o.", color: "#FFF4B2" },
    { min: 1100, title: "IMORTAL", emoji: "üëë", quote: "ganhou meu cora√ß√£o!", color: "#A333FF" },
    { min: 850, title: "ASCENDENTE", emoji: "üü¢", quote: "voc√™ evoluiu‚Ä¶ e eu me apaixonei no processo.", color: "#3CB371" },
    { min: 600, title: "DIAMANTE", emoji: "üíé", quote: "raro, brilhante e completamente meu favorito.", color: "#B9F2FF" },
    { min: 400, title: "PLATINA", emoji: "‚ö™", quote: "consistente demais‚Ä¶ t√° quase roubando meu cora√ß√£o inteiro.", color: "#E5E4E2" },
    { min: 250, title: "OURO", emoji: "üü°", quote: "t√° ficando perigoso‚Ä¶ eu gosto de voc√™.", color: "#FFD700" },
    { min: 120, title: "PRATA", emoji: "üîò", quote: "voc√™ j√° tem potencial de protagonista.", color: "#C0C0C0" },
    { min: 0, title: "BRONZE", emoji: "ü•â", quote: "o importante √© que jogamos juntos.", color: "#CD7F32" }
];


        function startGame() {
            gameActive = true;
            score = 0;
            timeLeft = 45;
            items = [];
            particles = [];
            document.getElementById('gameScore').innerText = score;
            document.getElementById('gameClock').innerText = timeLeft;
            document.getElementById('rankResult').style.display = 'none';
            document.getElementById('gameStartUI').style.display = 'none';
            document.getElementById('gameCanvasContainer').style.display = 'block';
            
            const container = document.getElementById('gameCanvasContainer');
            canvas.width = container.clientWidth;
            canvas.height = container.clientHeight;
            playerX = canvas.width / 2;

            if(gameLoopId) cancelAnimationFrame(gameLoopId);
            if(clockInterval) clearInterval(clockInterval);
            
            clockInterval = setInterval(() => {
                timeLeft--;
                document.getElementById('gameClock').innerText = timeLeft;
                if(timeLeft <= 0) endGame();
            }, 1000);

            gameLoop();
        }

        function stopGame() {
            gameActive = false;
            cancelAnimationFrame(gameLoopId);
            clearInterval(clockInterval);
        }

        function endGame() {
            stopGame();
            document.getElementById('gameCanvasContainer').style.display = 'none';
            const rank = ranks.find(r => score >= r.min) || ranks[ranks.length - 1];
            const res = document.getElementById('rankResult');
            res.style.display = 'block';
            res.style.borderColor = rank.color;
            document.getElementById('rankTitle').innerText = rank.title;
            document.getElementById('rankTitle').style.color = rank.color;
            document.getElementById('rankEmoji').innerText = rank.emoji;
            document.getElementById('rankQuote').innerText = rank.quote;
        }

        const handleMove = (e) => {
            if(!gameActive) return;
            const rect = canvas.getBoundingClientRect();
            const clientX = e.touches ? e.touches[0].clientX : e.clientX;
            const x = clientX - rect.left;
            playerX = Math.max(30, Math.min(canvas.width - 30, x));
        };
        canvas.addEventListener('mousemove', handleMove);
        canvas.addEventListener('touchmove', (e) => { e.preventDefault(); handleMove(e); }, {passive: false});

        function createExplosion(x, y, color) {
            for(let i=0; i<8; i++) {
                particles.push({
                    x, y, 
                    vx: (Math.random()-0.5)*8, 
                    vy: (Math.random()-0.5)*8, 
                    life: 1, 
                    color
                });
            }
        }

        function gameLoop() {
            if(!gameActive) return;
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Spawn logic
            if(Math.random() < 0.08) {
                const rand = Math.random();
                let type = 'cake';
                if(rand < 0.3) type = 'heart';
                if(rand < 0.15) type = 'cloud';
                if(rand < 0.02) type = 'star'; // Super item

                items.push({ 
                    x: Math.random() * (canvas.width - 40) + 20, 
                    y: -30, 
                    type: type, 
                    speed: 3 + Math.random() * 3 + (score/200) 
                });
            }

            // Draw Items
            items.forEach((item, index) => {
                item.y += item.speed;
                ctx.font = item.type === 'star' ? "32px Arial" : "24px Arial";
                const icons = { cake: 'üéÇ', heart: '‚ù§Ô∏è', cloud: 'ü¶á', star: '‚ú®' };
                ctx.fillText(icons[item.type], item.x - 12, item.y);

                const dist = Math.sqrt((item.x - playerX)**2 + (item.y - (canvas.height - 40))**2);
                if(dist < 35) {
                    if(item.type === 'cloud') {
                        score = Math.max(0, score - 30);
                        createExplosion(item.x, item.y, '#666');
                    } else if(item.type === 'star') {
                        score += 100;
                        createExplosion(item.x, item.y, '#FFD700');
                    } else {
                        score += (item.type === 'cake' ? 20 : 15);
                        createExplosion(item.x, item.y, '#E85D75');
                    }
                    document.getElementById('gameScore').innerText = score;
                    items.splice(index, 1);
                }
                if(item.y > canvas.height + 50) items.splice(index, 1);
            });

            // Particles
            particles.forEach((p, i) => {
                p.x += p.vx; p.y += p.vy; p.life -= 0.02;
                if(p.life <= 0) particles.splice(i, 1);
                else {
                    ctx.globalAlpha = p.life;
                    ctx.fillStyle = p.color;
                    ctx.fillRect(p.x, p.y, 4, 4);
                    ctx.globalAlpha = 1;
                }
            });

            // Player
            ctx.fillStyle = "rgba(232, 93, 117, 0.2)";
            ctx.beginPath();
            ctx.arc(playerX, canvas.height - 40, 30, 0, Math.PI * 2);
            ctx.fill();
            ctx.strokeStyle = "#E85D75";
            ctx.lineWidth = 2;
            ctx.stroke();
            ctx.font = "30px Arial";
            ctx.fillText("ü¶á", playerX - 15, canvas.height - 30);

            gameLoopId = requestAnimationFrame(gameLoop);
        }


        // --- COUNTDOWN ANIVERS√ÅRIO ---
const birthdayDate = new Date(new Date().getFullYear(), 1, 16, 0, 0, 0);

function updateCountdown() {
    const now = new Date();
    let diff = birthdayDate - now;

    if (diff <= 0) {
        document.getElementById('timer').innerText = "üéâ HAPPY BIRTHDAY GU! üéâ";
        return;
    }

    const d = Math.floor(diff / (1000 * 60 * 60 * 24));
    const h = Math.floor((diff / (1000 * 60 * 60)) % 24);
    const m = Math.floor((diff / (1000 * 60)) % 60);
    const s = Math.floor((diff / 1000) % 60);

    document.getElementById('timer').innerText =
        `${d}D ${h.toString().padStart(2,'0')}H ${m.toString().padStart(2,'0')}M ${s.toString().padStart(2,'0')}S`;
}

setInterval(updateCountdown, 1000);
updateCountdown();
    </script>
</body>
</html>
